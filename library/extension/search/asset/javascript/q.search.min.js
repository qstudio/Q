!function(e){document.title;var t=function(e){this.init(e)};t.prototype={selected:function(){return this.loop(e("."+this.selected_filters),"tax").join("&")},title:function(){var t=e("input#searcher").val(),s=(e("select#category").val(),""),r="",a=!1;t>""&&(s=s+e("input#searcher").val()+" | ",r.length>0&&(r+=" + "),r=r+'"'+e("input#searcher").val()+'"',a=!0),$title_default=document.getElementsByTagName("title")[0].innerHTML,!0===a?($title=q_search.search+" | "+q_search.site_name,document.title=s+$title,$page_title=q_search.search+': <span class="bold">'+r+"</span>",e("#q-search h1.entry-title").html($page_title)):(document.title=$title_default,$page_title=q_search.search,e("#q-search h1.entry-title").html(""))},loop:function(t,s){var r=[];return t.each(function(){if("searcher"==e(this).attr("id"))var t="search="+e("#searcher").val();else t=e(this).data(s);t&&r.push(t)}),r},filter:function(t){var s=this;e.ajax({url:QS_CONFIG.ajaxurl,type:"post",data:{action:"q_search",filters:t,callback:QS_CONFIG.callback,table:QS_CONFIG.table,application:QS_CONFIG.application,device:QS_CONFIG.device,post_type:QS_CONFIG.post_type,posts_per_page:QS_CONFIG.posts_per_page,template:QS_CONFIG.template,order:QS_CONFIG.order,order_by:QS_CONFIG.order_by,category_name:QS_CONFIG.category_name,author_name:QS_CONFIG.author_name,tag:QS_CONFIG.tag,queried_object:QS_CONFIG.queried_object,paged:QS_CONFIG.page_number,_ajax_nonce:QS_CONFIG.nonce},beforeSend:function(){e(".q-search-count-results").remove(),!0,s.section.animate({opacity:0},"slow"),e("#q-search .pagination").hide("slow"),"undefined"!=typeof NProgress&&NProgress.start(),s.disable(),e("#q-search-results").empty()},success:function(t){e("#q-search-results").append(t),e(".q-search-count-results").hide();var s=e(".q-search-count-results").html();void 0!==s&&s.length>0&&(e(".q-search-count-results").html(s).show(),$results=e(".q-search-count-results"),$results.insertBefore($results.parent()))},complete:function(){e(".ajax-loaded").fadeIn(),e("html, body").animate({scrollTop:r()},300),e("#ajax-filtered-section").animate({opacity:1},"slow"),e(".pagination").show("slow"),QS_CONFIG.callback&&s.callback(QS_CONFIG.callback),s.reenable(),"undefined"!=typeof NProgress&&NProgress.done(),s.running=!1,!1},error:function(){}})},show_filters:function(){e("#q-search ul.ajax-filters li.ajax-filters-li:gt(0)").show()},hide_filters:function(){e("#q-search ul.ajax-filters li.ajax-filters-li:gt(0)").hide()},disable:function(){e("#q-search-form select").prop("disabled","disabled"),e("#q-search-form :input, #q-search-form button, #q-search-form .ajax-button").attr("disabled",!0)},reenable:function(){e("#q-search-form select").prop("disabled",!1),e("#q-search-form :input, #q-search-form button, #q-search-form .ajax-button").attr("disabled",!1)},callback:function(e){if(!e||!1===e)return!1;window[e]&&window[e]()},hash:function(e,t){window.location.hash="/filter/"+ar},clicker:function(){var t=this;e(document).on("click",this.links,function(s){if(0==t.running){t.first=!1,t.running=!0,QS_CONFIG.queried_object="qs_null";var r=e(this),a=r.parent("li"),n=r.attr("rel");a.length>0&&(a.toggleClass(t.selected_filters),QS_CONFIG.page_number=1),"next"===n?QS_CONFIG.page_number++:"prev"===n?QS_CONFIG.page_number--:r.hasClass("pagelink")&&(QS_CONFIG.page_number=n),t.filter(e("#q-search-form").serialize())}s.preventDefault()}),e(document).on("blur",this.inputs,function(s){if(0==t.running){t.first=!1,t.running=!0,QS_CONFIG.queried_object="qs_null";var r=e(this),a=r.parent("li"),n=r.attr("rel");a.length>0&&(a.toggleClass(t.selected_filters),QS_CONFIG.page_number=1),"next"===n?QS_CONFIG.page_number++:"prev"===n?QS_CONFIG.page_number--:r.hasClass("pagelink")&&(QS_CONFIG.page_number=n),t.filter(e("#q-search-form").serialize())}s.preventDefault()}),e("#q-search-form").on("submit",function(e){e.preventDefault()}),e("#q-search").on("click",".qs-reset",function(t){e("#q-search-form").trigger("reset")}),e("#q-search-form").on("change submit reset",function(s){if(0==t.running){if("reset"==s.type)r="empty=true",e("#q-search-form input[type='reset']").hide(),e("#searcher").val(""),e(".q-search-select").prop("selectedIndex",0);else{var r=e("#q-search-form").serialize();e("#q-search-form input[type='reset']").show()}t.running=!0,QS_CONFIG.queried_object="qs_null",e(this).find("option").removeClass(t.selected_filters);var a=e(this),n=(a.parent("select"),a.attr("rel"));e(this).find(":selected").toggleClass(t.selected_filters),QS_CONFIG.page_number=1,"next"===n?QS_CONFIG.page_number++:"prev"===n?QS_CONFIG.page_number--:a.hasClass("pagelink")&&(QS_CONFIG.page_number=n),t.filter(r)}}),e(document).on("change",this.selects,function(s){if(0==t.running){t.running=!0,QS_CONFIG.queried_object="qs_null",e(this).find("option").removeClass(t.selected_filters);var r=e(this),a=(r.parent("select"),r.attr("rel"));e(this).find(":selected").toggleClass(t.selected_filters),QS_CONFIG.page_number=1,"next"===a?QS_CONFIG.page_number++:"prev"===a?QS_CONFIG.page_number--:r.hasClass("pagelink")&&(QS_CONFIG.page_number=a),t.filter(t.selected())}s.preventDefault()})},reset:function(){e("#q-search #ajax-filtered-section").append("<p class='no-results'></p>"),e(".no-results").html(q_search.on_load_text).fadeIn(),e("#q-search .ajax-loaded").hide(),e("#q-search .pagination").hide(),e(".no-results").hide(),e(".count-results").hide(),e("html, body").animate({scrollTop:r()},300)},init:function(t){this.opts=t,this.running=!1,this.section=e(this.opts.section),this.links=this.opts.links,this.inputs=this.opts.inputs,this.selects=this.opts.selects,this.progbar=e(this.opts.progbar),this.selected_filters=this.opts.selected_filters,e("#q-search-form input[type='reset']").hide(),$results=e(".q-search-count-results"),$results.insertBefore($results.parent()),this.clicker()}};new t({loader:"#ajax-loader",section:"#ajax-filtered-section",links:".paginationNav, .pagelink, #go",inputs:".searcher",selects:".q-search-select",progbar:"#progbar",selected_filters:"filter-selected"});e("body").on("click","nav.pagination a, .q-scroll-search",function(t){t.preventDefault(),e("html, body").animate({scrollTop:r()},300)});var s=e("#searcher").attr("placeholder");function r(){var t=e("#wpadminbar").height()||0;return e("#search_content").length?e("#search_content").offset().top-t:0}e("#searcher").focus(function(){e(this).attr("placeholder","")}),e("#searcher").focusout(function(){e(this).attr("placeholder",s)}),e("select").each(function(){e(this).prop("selectedIndex",0)})}(jQuery);
